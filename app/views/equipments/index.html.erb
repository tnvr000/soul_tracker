<%= link_to 'New', new_equipment_path %>
<%= form_with(url: equipments_path, method: :get, data: { controller: "search-form", action: "change->search-form#submit", turbo_frame: "search_result", turboo_action: "advance" }) do |form| %>
  <div>
    <%= form.select(:equipment_style, equipment_style_filter_options, selected: @equipment_style) %>
    <%= form.select(:equipment_type, equipment_type_filter_options, selected: @equipment_type) %>
    <%= form.select(:equipment_class, equipment_class_filter_options, selected: @equipment_class) %>
    <%= form.select(:equipment_class_level, equipment_class_level_filter_options, selected: @equipment_class_level) %>
  </div>
<% end %>
<h2>Showing <%= @equipments.count %> Equipments</h2>
<div>
  <table>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Style</th>
      <th>Class</th>
      <th colspan="3">Actions</th>
    </tr>
    <% @equipments.each do |equipment| %>
      <tr>
        <td><%= link_to equipment.name, equipment_path(equipment) %></td>
        <td><%= equipment.equipment_type %></td>
        <td><%= equipment.equipment_style %></td>
        <td><%= equipment_class(equipment) %></td>
        <td><%= link_to 'Edit', edit_equipment_path(equipment) %></td>
        <td><%= link_to 'Duplicate', duplicate_equipment_path(equipment), data: { 'turbo-method' => :post } %></td>
        <td><%= link_to 'Delete', equipment_path(equipment), data: { 'turbo-method' => :delete } %></td>
      </tr>
    <% end %>
  </table>
</div>
